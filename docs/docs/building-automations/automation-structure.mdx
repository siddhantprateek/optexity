---
title: Automation Structure
description: Understanding the structure of Optexity automations
---

Optexity uses a declarative model for browser automation. Define **what** actions to perform, and Optexity handles the **how** using AI-assisted element location.

## Overview

```
Automation
├── url                  # Starting point
├── browser_channel      # "chromium" or "chrome"
├── expected_downloads   # Number of files to download
├── parameters           # Input, secure, and generated variables
└── nodes[]              # Sequence of actions
    ├── action_node
    ├── for_loop_node
    └── if_else_node
```

## Complete Example

```json
{
  "url": "https://example.com/login",
  "browser_channel": "chromium",
  "expected_downloads": 0,
  "parameters": {
    "input_parameters": {
      "email": ["user@example.com"]
    },
    "secure_parameters": {},
    "generated_parameters": {}
  },
  "nodes": [
    {
      "type": "action_node",
      "interaction_action": {
        "input_text": {
          "command": "get_by_label(\"Email\")",
          "input_text": "{email[0]}"
        }
      }
    }
  ]
}
```

## Properties

| Property | Type | Description |
|----------|------|-------------|
| `url` | `str` | Starting URL—use the URL closest to your target to reduce navigation steps |
| `browser_channel` | `"chromium" \| "chrome"` | Browser to use (default: `"chromium"`) |
| `expected_downloads` | `int` | Number of expected downloads (automation waits for completion) |
| `parameters` | `Parameters` | Input, secure, and generated variables |
| `nodes` | `list[action_node \| for_loop_node \| if_else_node]` | Ordered list of actions |

## Parameters

Three types of parameters control data flow:

| Type | Purpose | Example |
|------|---------|---------|
| `input_parameters` | Values provided before execution | Username, search queries |
| `secure_parameters` | Sensitive data from secure storage | Passwords, API keys |
| `generated_parameters` | Values extracted during execution | Order IDs, confirmation numbers |

```json
{
  "parameters": {
    "input_parameters": {
      "username": ["admin@example.com"]
    },
    "secure_parameters": {
      "password": [{
        "onepassword": {
          "vault_name": "vault",
          "item_name": "login",
          "field_name": "password"
        }
      }]
    },
    "generated_parameters": {
      "order_ids": []
    }
  }
}
```

<Tip>
See [Parameters](/docs/building-automations/parameters) for detailed usage.
</Tip>

## Node Types

| Node | Purpose | Documentation |
|------|---------|---------------|
| `action_node` | Single atomic action | [Action Node](/docs/building-automations/action-node) |
| `for_loop_node` | Iterate over values | [For Loop Node](/docs/building-automations/for-loop-node) |
| `if_else_node` | Conditional execution | [If Else Node](/docs/building-automations/if-else-node) |

## Browser Channel

| Channel | Use When |
|---------|----------|
| `"chromium"` | Default, works for most sites |
| `"chrome"` | Site requires Chrome specifically, or automation is unreliable with Chromium |

```json
{
  "browser_channel": "chrome"
}
```

## Expected Downloads

Set this to wait for file downloads to complete:

```json
{
  "expected_downloads": 3
}
```

The automation waits until all expected files are downloaded before completing.
