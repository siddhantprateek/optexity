---
title: TOTP Integration
description: Handle two-factor authentication codes in automations
---

Generate TOTP codes from authenticator apps (Google Authenticator, Microsoft Authenticator, Authy) for 2FA.

## Get Your TOTP Secret

Follow this guide to extract your TOTP secret: [TOTP Secret Extraction Guide](https://cavalloj.medium.com/totp-secret-extraction-from-qr-codes-ee097b4c687f)

---

## Direct TOTP Secret

Provide the TOTP secret directly in `secure_parameters`:

```json
{
  "secure_parameters": {
    "auth_code": [{
      "totp": {
        "totp_secret": "YOUR_BASE32_SECRET",
        "digits": 6
      }
    }]
  }
}
```

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `totp_secret` | `str` | Required | Base32-encoded TOTP secret |
| `digits` | `int` | `6` | Number of digits in code |

---

## TOTP via 1Password (Recommended)

Store the TOTP secret in 1Password for better security:

```json
{
  "secure_parameters": {
    "auth_code": [{
      "onepassword": {
        "type": "totp_secret",
        "vault_name": "my_vault",
        "item_name": "my_login",
        "field_name": "totp_secret",
        "digits": 6
      }
    }]
  }
}
```

<Tip>
See [1Password Integration](/docs/advanced/onepassword) for setup instructions.
</Tip>

---

## Using in Automations

Reference the TOTP code like any parameter:

```json
{
  "type": "action_node",
  "interaction_action": {
    "input_text": {
      "command": "get_by_label(\"Verification Code\")",
      "input_text": "{auth_code[0]}",
      "prompt_instructions": "Enter the 2FA code"
    }
  }
}
```
